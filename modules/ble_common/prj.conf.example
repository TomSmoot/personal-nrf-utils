#
# Copyright (c) 2025 Personal NRF Utils
#
# SPDX-License-Identifier: Apache-2.0
#

#
# nRF5340 Application Core Configuration
#
# This file contains the recommended Kconfig settings for using the
# ble_common module with nrf_utils and cmd_parser on nRF5340 application core.
# The network core should be running BLE stack (e.g., nRF BLE SPI example).
#

# Core System Configuration
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_HEAP_MEM_POOL_SIZE=8192

# IPC Configuration for nRF5340 dual-core communication
CONFIG_IPC_SERVICE=y
CONFIG_MBOX=y

# GPIO for LEDs and buttons
CONFIG_GPIO=y

# ADC for battery monitoring
CONFIG_ADC=y
CONFIG_ADC_NRFX_SAADC=y

# Temperature sensor
CONFIG_SENSOR=y
CONFIG_TEMP_NRF5=y

# Memory management for command parser
CONFIG_SYS_HEAP_RUNTIME_STATS=y

# Flash and settings (optional, for configuration persistence)
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# Logging Configuration
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_MODE_DEFERRED=y

# System utilities
CONFIG_ASSERT=y
CONFIG_DEBUG=y
CONFIG_DEBUG_INFO=y

# Newlib for better printf/string support in command parser
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y

# Power management (optional)
CONFIG_PM=y
CONFIG_PM_DEVICE=y

#
# NOTE: BLE configuration is NOT needed on the application core
# since BLE stack runs on the network core. Only IPC is required
# for communication between the cores.
#
