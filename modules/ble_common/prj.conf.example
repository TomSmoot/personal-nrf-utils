#
# Copyright (c) 2025 Personal NRF Utils
#
# SPDX-License-Identifier: Apache-2.0
#

#
# BLE Common Module Configuration
#
# This file contains the recommended Kconfig settings for using the
# ble_common module with nrf_utils and cmd_parser in your Nordic nRF project.
#

# Core Bluetooth Configuration
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="nRF_Utils_Device"

# Bluetooth LE Configuration
CONFIG_BT_LE_ADV_EXT=n
CONFIG_BT_LE_ADV_LEGACY=y

# Connection Configuration
CONFIG_BT_MAX_CONN=4
CONFIG_BT_MAX_PAIRED=4

# GATT Configuration
CONFIG_BT_GATT_SERVICE_CHANGED=y
CONFIG_BT_GATT_AUTO_DISCOVER_CCC=y

# Security Configuration (optional)
CONFIG_BT_SMP=y
CONFIG_BT_SIGNING=y
CONFIG_BT_BONDABLE=y

# Nordic UART Service Configuration
CONFIG_BT_NUS=y
CONFIG_BT_NUS_THREAD_STACK_SIZE=1024

# Settings for persistent storage (optional)
CONFIG_BT_SETTINGS=y
CONFIG_FLASH=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_FLASH_MAP=y
CONFIG_NVS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_NVS=y

# GPIO for LEDs and buttons
CONFIG_GPIO=y

# ADC for battery monitoring
CONFIG_ADC=y
CONFIG_ADC_NRFX_SAADC=y

# Temperature sensor
CONFIG_SENSOR=y
CONFIG_TEMP_NRF5=y

# Memory management for command parser
CONFIG_HEAP_MEM_POOL_SIZE=8192
CONFIG_SYS_HEAP_RUNTIME_STATS=y

# Logging Configuration (recommended for debugging)
CONFIG_LOG=y
CONFIG_BT_DEBUG_LOG=y
CONFIG_BT_CONN_LOG_LEVEL_DBG=y
CONFIG_BT_GATT_LOG_LEVEL_DBG=y

# System Configuration
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_MAIN_STACK_SIZE=2048

# Additional helpful settings for development
CONFIG_ASSERT=y
CONFIG_DEBUG=y
CONFIG_DEBUG_INFO=y

# Newlib for better printf/string support in command parser
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y
